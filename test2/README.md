# 实验2：图书管理系统用例建模
|学号|班级|姓名|
|:-------:|:-------------: | :----------:|
|201710414208|软件(本)17-2|李云东|
## 1. 图书管理系统的用例关系图

### 1.1 用例图PlantUML源码如下：

```PlantUML
@startuml
left to right direction

:超级管理员: as Root
:图书管理员: as Admin
:读者: as Reader

rectangle case{
Root --> (权限管理)
Root --> (增删用户)

Admin ---> (借出图书)
Admin ---> (归还图书)
Admin ---> (维护书目)
Admin ---> (维护读者信息)

Reader ---> (查询书目)
Reader ---> (查询借阅情况)
Reader ---> (预订图书)
Reader ---> (取消预订)
}
@enduml
```


### 1.2. 用例图如下：
![在这里插入图片描述](https://img-blog.csdnimg.cn/2020033110224745.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5ZGRhc2h1YWlnZQ==,size_16,color_FFFFFF,t_70)

## 2. 参与者说明：

###     2.1 超级管理员

主要职责是：权限管理：授予收回权限、增删用户

###     2.2 图书管理员

主要职责是：借出图书、归还图书、维护书目、维护读者信息：密码修改，信息更新等

###     2.3 读者
    
主要职责是：预订图书、取消预订、查询书目、查询借阅情况

##     3. 用例规约表

###     3.1 超级管理员

### 参与者说明：

1.图书管理员

主要职责是：借书、还书、管理书、过期罚款、维护读者信息等

2.读者

主要包含借书、还书、查询借阅情况、预约书籍四种功能

3.其他访客

浏览数目

### 用例规约表

1.“查询图书”用例

| 用例名称 | 查询图书 |
|---|---|
|参与者|图书管理员、读者、其他访客|
|前置条件|图书管理员、读者登陆到系统，访客可不用登陆|
|后置条件|图书管理员可以浏览到书目所有借阅信息（包括借阅人、预期归还时间），读者和访客只能看到书籍信息和剩余数量|
|主事件流|1、管理员或者读者登陆系统（访客不用）  2、输入书籍名称、作者、出版社等查询  3、浏览书籍信息、状态、剩余书籍数量 |
|备选事件流|1a. 读者登陆失败 <br> 1.系统提示错误信息 <br><br>  2a.图书馆没有符合条件的图书<br>  1.提示搜索的数量为0 <br>  2.返回查询首页<br><br>  3a.图书馆的该种可借图书为0<br>  1.提示可借的图书的数量为0 <br> 2.返回查询首页|

2.“借出图书”用例

| 用例名称 | 借出图书 |
|--- | --- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权、读者登陆到系统，可借图书数目>0|
|后置条件|读者借走图书，图书馆馆藏图书减1，该编号的图书状态为借出|
|主事件流|1、管理员验证读者身份和借书条件 <br> 2、管理员将该书信息输入系统 <br> 3、查询该书状态剩余和可借数量  <br> 4、修改读者借书情况 <br> 5、将书借给读者 <br> 6、修改图书可借数目、借阅累计人数、借阅状态记录 |
|备选事件流|1a.非法读者或读者不符合借阅条件<br> 1.系统提示错误信息并拒绝借书 <br> <b  1b. 读者可借书目已达上限 <br> 1.系统提示错误信息并拒绝借书 <br> <br>3c.读者已预约该图书 <br>1.管理员确认信息 <br>2.删除预定信息  |


**“借出图书”用例流程图源码如下：**
```PlantUML
@startuml
|#AntiqueWhite|图书管理员|
|读者|
start
:提供借书卡;
if(非法读者？)then(否)
if(借阅已达上限？)then(否)
else(是)
stop
endif
else(是)
stop
endif
|图书管理员|
:将读者所借图书输入系统;
while (还没录完借阅书籍？) is (是)
:继续图书录入;
if(借阅已达上限？)then(否)
else(是)
stop
endif
if(读者有该书的预订记录？)then(是)
:删除该书的预订信息;
else(否)
endif
endwhile (否)
:借阅成功;
stop
@enduml
```

**“借出图书”用例流程图源码如下：**

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200330180256258.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5ZGRhc2h1YWlnZQ==,size_16,color_FFFFFF,t_70)

####     "归还图书"用例

| 用例名称 | 归还图书 |
|--- | --- |
|参与者|图书管理员（主要参与者）、读者（次要参与者）|
|前置条件|图书管理员已被识别和授权、读者登陆到系统|
|后置条件|图书馆馆藏图书加1，该编号的图书状态为可借|
|主事件流|1、管理员验证读者身份和还书条件 <br> 2、管理员将该书信息输入系统 <br> 3、查询该书状态剩余和可借数量  <br> 4、修改读者借书情况 <br> 5、将书借给读者 <br> 6、修改图书可借书目和情况 |
|备选事件流|1a.非法读者或读者没有该次借阅信息<br> 1.系统提示错误信息 <br> <br> 1b. 读者借阅预期 <br> 1.系统提示需要缴纳罚金 <br> <br>1c.读者希望续借书籍 <br>1.管理员确认信息 <br>2.系统跳转到续借页面  |

### "预约图书"用例

| 用例名称 | 预约图书 |
|--- | --- |
|参与者|读者（主要参与者）、图书管理员（次要参与者）|
|前置条件|读者、图书管理员已被识别和授权，且该读者现在没有预约同一本书|
|后置条件|图书馆馆藏图书不变，可借数量减一，该编号的图书状态为已被预约|
|主事件流|1、读者搜索图书 <br> 2、读者查询书籍剩余数量和状态 <br> 3、读者选择预约图书时间段<br> 4、管理员设置读者可借数量减一，绑定借书情况 <br>|
|备选事件流|1a.没有相应的图书<br> 1.系统提示错误信息并拒绝预约 <br> <br>  2a. 读者可预约书目已达上限 <br> 1.系统提示错误信息并拒绝预约 <br> <br>3a.读者已预约该图书 <br>1.系统拒绝再次预约，返回预约首页 |


####     “维护书目”用例

| 用例名称 | 维护书目 |
| :------ | :------ |
| 参与者 | 图书管理员 |
| 前置条件 | 图书管理员成功登陆且已被授权 |
| 后置条件 | 更新可借书目名称和数量 |
| 主事件流 | 1.图书管理员将图书提供给系统;<br/>2.系统根据ISBN号查询是否存在该种图书;<br/>3.系统更新可借书目;<br/>4.图书管理员重复步骤1~3直至退出 |
| 备选事件流 | 2a.存在ISBN号一样的图书<br/>　1.图书管理员根据新进图书数量修改该种书库存数量<br/>2b.不存在ISBN号一样的图书<br/>　1.图书管理员新增此种书,并新增库存数量 |

**“维护书目”用例流程图源码如下：**
```PlantUML
@startuml
start
:图书管理员将图书提供给系统;
while(还没录完书籍？)is(是)
:图书管理员将ISBN提供给系统;
if(存在ISBN号一样的图书)then(是)
:修改该种书库存数量;
else(否)
:员新增此种书,并新增库存数量;
endif
endwhile(否)
stop
@enduml
```

**“维护书目”用例流程图源码如下：**
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200330180357211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2x5ZGRhc2h1YWlnZQ==,size_16,color_FFFFFF,t_70)

### "管理书目"用例

| 用例名称 | 管理书目 |
|--- | --- |
|参与者| 图书管理员|
|前置条件|图书管理员登陆系统且被授权|
|后置条件|书目状态可能发生变化|
|主事件流|1、管理登陆查询图书或者浏览图书<br> 2、管理员修改图书状态或管理员修改图书库存  <br>|
|备选事件流|1a.管理员登陆失败<br> 1.系统提示密码错误，系统返回首页<br> <br> 2a.管理员修改信息失败  <br> 1.系统提示修改失败，读者可以重新操作|


###    读者

####      “查询书目”用例

| 用例名称 | 查询书目 |
| :------ | :------ |
| 参与者 | 读者 |
| 假设 | 查询使用模糊查询 |
| 前置条件 | 读者成功登陆 |
| 主事件流 | 1.读者输入书名或作者;<br/>2.系统根据输入进行馆藏查询;<br/>3.系统返回所查图书的位置、库存和可借数目 |
| 备选事件流 | 3a.不存在该种书<br/>　1.询问读者是否反馈与图书馆已进行购入 |

###     “查询借阅情况”用例

| 用例名称 | 查询借阅情况 |
| :------ | :------ |
| 参与者 | 读者 |
| 前置条件 | 读者成功登陆 |
| 主事件流 | 1.读者点击个人信息下的借阅情况;<br/>2.系统进入读者借阅情况页面 |

####     “预订图书”用例

| 用例名称 | 预订图书 |
| :------ | :------ |
| 参与者 | 读者 |
| 前置条件 | 读者成功登陆 |
| 后置条件 | 更新读者借阅情况，该图书状态更新为已预订 |
| 主事件流 | 1.读者对预借书种进行馆藏查询;<br/>2.读者对预借书进行预订请求;<br/>3.系统记录请求 |

####      “取消预订”用例

| 用例名称 | 取消预订 |
| :------ | :------ |
| 参与者 | 读者 |
| 前置条件 | 读者成功登陆 |
| 后置条件 | 更新读者借阅情况，更改该图书状态 |
| 主事件流 | 1.读者点击个人信息下的借阅情况<br/>2.读者对预订书种进行取消预订 |
